<!DOCTYPE html>
<html lang="en">
<%- include("./partials/head", { title: "Productos" }) %>

    <body>
        <%- include("./partials/header") %>
            <main class="main_create">
                <div class="main_create_cont">
                    <div class="main_create_cont_container_form">
                        <form class="clase_formularios" method="POST" enctype="multipart/form-data">
                            <div class="main__titulo-h1">
                                <h1>Crear producto</h1>
                                <hr>
                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="name" class="form-label">Nombre:</label>
                                <input type="text"
                                    class="form-control <%= locals.errors && (errors.name && 'is-invalid') %>" id="name"
                                    placeholder="Nombre del producto" minlength="3" maxlength="20" name="name"
                                    value="<%= locals.old && (old.name && old.name) %>" required />
                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.name && errors.name.msg) %>
                                </small>
                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="category" class="form-label">Categoría:</label>
                                <select class="form-select <%= locals.errors && (errors.category && 'is-invalid') %>"
                                    aria-label="Default select example" name="category" id="category">
                                    <option selected hidden value="">Seleccione...</option>
                                    <% categories.forEach(category=> { %>
                                        <option value="<%= category.id %>" <%=locals.old && (old.category===category.id
                                            && 'selected' )%> >
                                            <%= category.name %>
                                        </option>
                                        <% }) %>
                                </select>
                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.category && errors.category.msg) %>
                                </small>

                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="brand" class="form-label">Marca</label>
                                <select class="form-select <%= locals.errors && (errors.brand && 'is-invalid') %>"
                                    aria-label="Default select example" minlength="3" maxlength="20" name="brand"
                                    id="brand">
                                    <option selected hidden value="">Seleccione...</option>
                                    <% brands.forEach(brand=> { %>
                                        <option value="<%= brand.id %>" <%=locals.old && (old.brand===brand.id
                                            && 'selected' )%> >
                                            <%= brand.name %>
                                        </option>
                                        <% }) %>
                                </select>
                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.brand && errors.brand.msg) %>
                                </small>
                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="modelo" class="form-label">Modelo:</label>
                                <input type="text" id="modelo" minlength="3" maxlength="20" name="model" required />
                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="price" class="form-label">Precio ($):</label>
                                <input type="number"
                                    class="form-control <%= locals.errors && (errors.price && 'is-invalid') %>"
                                    id="price" name="price" value="<%= locals.old && (old.price && old.price) %>">
                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.price && errors.price.msg) %>
                                </small>
                            </div>

                            <div class="clase_formularios_cajas">
                                <label for="discount" class="form-label">Oferta (%): </label>
                                <input type="number" id="discount" name="discount" value="0" required />
                            </div>

                            <div class="clase_formularios_cajas tex_area">
                                <label for="description" class="form-label">Descripción</label>
                                <textarea class="form_product_text_area" maxlength="256" rows="5" cols="20"
                                    <%=locals.errors && (errors.description && 'is-invalid' )
                                    %>" style="resize: none;"
                                    name="description" id="description" placeholder="Escribe una descripción..."><%= locals.old && (old.description && old.description) %></textarea>
                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.description && errors.description.msg) %>
                                </small>
                            </div>

                            <div class="clase_formulario_botones">

                                <small class="ms-2 text-danger">
                                    <%= locals.errors && (errors.images && errors.images.msg) %>
                                </small>


                                <div class="clase_formularios_cajas_btn_agregar">
                                    <label class="boton__general btn_img" for="image"><i
<<<<<<< HEAD
                                        class="fa-solid fa-plus fa-2xl"></i>Imagen principal</label>
=======
                                            class="fa-solid fa-plus fa-2xl"></i>Imagen principal</label>
>>>>>>> Rodrigo_Hidalgo
                                    <input hidden class="form-control" type="file" id="image" name="image">
                                </div>
                                <div class="clase_formularios_cajas_btn_agregar">
                                    <label class="boton__general btn_img" for="images"><i
                                            class="fa-solid fa-plus fa-2xl"></i>Imagenes Secundarias</label>
                                    <input hidden multiple type="file" id="images" name="images" />

                                </div>
                                <div class="clase_formulario_box_btn">
                                    <input class="boton__general btn_form" type="reset" value="Cancelar" />
                                    <input class="boton__general btn_form" type="submit" value="Crear" />
                                </div>
                            </div>

                        </form>

                    </div>
                </div>

            </main>
            <%- include("./partials/footer") %>
    </body>

</html>