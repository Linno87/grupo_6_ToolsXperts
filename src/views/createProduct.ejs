<!DOCTYPE html>
<html lang="en">
<%- include("./partials/head", { title: "Productos" }) %>

    <body>
        <%- include("./partials/header") %>
            <main class="main_create">
                <div class="main_create_cont">
                    <div class="main_create_cont_container_form">
                        <form class="clase_formularios" id="formCreateProduct" method="POST" enctype="multipart/form-data">
                            <div class="main__titulo-h1">
                                <h1>Crear producto</h1>
                                <hr>
                            </div>
                            <div class="col-12">
                            <div class=" w-100 clase_formularios_cajas">
                                <label for="name" class="form-label" style="width: 120px;">Nombre:</label>
                                <input type="text"
                                    class="form-control <%= locals.errors && (errors.name && 'is-invalid') %>" id="formName"
                                    placeholder="Nombre del producto" name="name"
                                    value="<%= locals.old && (old.name && old.name) %>" required />
                            </div>
                            <small id="msg-name" class="ms-2 text-danger d-flex justify-content-center">
                                <%= locals.errors && (errors.name && errors.name.msg) %>
                            </small>
                            </div>
                            <div class="clase_formularios_cajas d-block">
                            <div class="d-flex">
                                <label for="category" class="form-label">Categoría:</label>
                                <select class="form-select <%= locals.errors && (errors.category && 'is-invalid') %>"
                                    aria-label="Default select example" name="category" id="category">
                                    <option selected hidden value="">Seleccione...</option>
                                    <% categories.forEach(category=> { %>
                                        <option value="<%= category.id %>" <%=locals.old && (old.category===category.id
                                            && 'selected' )%> >
                                            <%= category.name %>
                                        </option>
                                        <% }) %>
                                </select>
                            </div>
                            <small id="msg-category" class="ms-2 text-danger d-flex justify-content-center" >
                                <%= locals.errors && (errors.category && errors.category.msg) %>
                            </small>
                            </div>

                            <div class="clase_formularios_cajas d-block">
                                <div class="d-flex">
                                <label for="brand" class="form-label">Marca</label>
                                <select class="form-select <%= locals.errors && (errors.brand && 'is-invalid') %>"
                                    aria-label="Default select example" name="brand"
                                    id="brand">
                                    <option selected hidden value="">Seleccione...</option>
                                    <% brands.forEach(brand=> { %>
                                        <option value="<%= brand.id %>" <%=locals.old && (old.brand===brand.id
                                            && 'selected' )%> >
                                            <%= brand.name %>
                                        </option>
                                        <% }) %>
                                </select>
                                </div>
                                <small id="msg-brand" class="ms-2 text-danger d-flex justify-content-center">
                                    <%= locals.errors && (errors.brand && errors.brand.msg) %>
                                </small>
                            </div>

                            <div class="clase_formularios_cajas d-block">
                                <div class="d-flex">
                                <label for="price" class="form-label">Precio ($):</label>
                                <input type="number"
                                    class="form-control <%= locals.errors && (errors.price && 'is-invalid') %>"
                                    id="price" name="price" value="<%= locals.old && (old.price && old.price) %>">
                                </div>
                                <small id="msg-price" class="ms-2 text-danger d-flex justify-content-center">
                                    <%= locals.errors && (errors.price && errors.price.msg) %>
                                </small>
                            </div>

                            <div class="clase_formularios_cajas d-block">
                                <div class="d-flex">
                                    <label for="discount" class="form-label">Descuento(%): </label>
                                    <input type="number" id="discount" name="discount" value="0" required />
                                </div>
                                <small id="msg-discount" class="ms-2 text-danger d-flex justify-content-center">
                                    <%= locals.errors && (errors.price && errors.price.msg) %>
                                </small>
                            </div>
                            <div class="col-12">
                            <div class="clase_formularios_cajas tex_area">
                                <label for="description" class="form-label">Descripción</label>
                                <textarea class="form_product_text_area" id="description" rows="5" cols="20"
                                    <%=locals.errors && (errors.description && 'is-invalid' )
                                    %> style="resize: none;"
                                    name="description" id="description" placeholder="Escribe una descripción..."><%= locals.old && (old.description && old.description) %></textarea>
                                </div>
                                <div class="col-12 d-flex justify-content-between">
                                <small id="msg-description" class="ms-2 text-danger">
                                    <%= locals.errors && (errors.description && errors.description.msg) %>
                                </small>
                                <div class="d-flex justify-content-center col-2">
                                <p id="numWrite" class=""></p>
                                <p > /350</p>
                                </div>
                                </div>  
                            </div>
                                <small class="ms-2 text-danger errorsUpdate">
                                    <%= locals.errors && (errors.images && errors.images.msg) %>
                                </small>
                                <div class="clase_formulario_botones">
                       
                                    <div class="clase_formularios_cajas_btn_agregar">
                                        <label class="boton__general btn_img" for="image"><i
                                                class="fa-solid fa-plus fa-2xl"></i>Imagen principal</label>
                                        <input hidden class="form-control" type="file" id="image" name="image">
                                    </div>
            <!-- IMAGENES SECUNDARIAS -->
                                    <div class="clase_formularios_cajas_btn_agregar">
                                        <label class="boton__general btn_img" for="images"><i
                                                class="fa-solid fa-plus fa-2xl"></i>Imagenes Secundarias</label>
                                        <input hidden multiple type="file" id="images" name="images"/>
            
                                    </div>
                                    <div class="clase_formularios_cajas_btn_agregar">
                                        <input class="boton__general btn_form" type="reset" value="Cancelar" />
                                  
                                    </div>
                                    <div class="clase_formularios_cajas_btn_agregar">
                                        
                                        <input class="boton__general btn_form" type="submit" value="Crear" />
                                    </div>
                                </div>
                                <small id="msg-ErrorAllElemments" class="ms-2 text-danger errorsUpdate">
                                    
                                </small>
                        </form>

                    </div>
                </div>

            </main>
            <script src="/javascripts/productValidation.js"></script>
            <%- include("./partials/footer") %>
            
    </body>

</html>